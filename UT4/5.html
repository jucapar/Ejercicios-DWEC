<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>UT4- Ejercicio 5 Juan Carlos Pastor Regueras</title>
</head>


<body>
	
	
	
	
  <form action="" method="post" id="formulario">
  
	DNI:<br />
	<input type="text" name="DNI"/><br />
	<p id="errordni"></p><br />
	PAIS:<br />
	<input type="text" name="pais" /><br />
	<p id="errorpais"></p><br />
	EMAIL:<br />
	<input type="email" name="email" /><br />
	<p id="erroremail"></p><br />

	<button name="Enviar" id="Enviar">Enviar</button>
  </form>
  
</body>
	<script>
	window.onload = function(){
		var enviar = document.getElementById("enviar");
		Enviar.addEventListener("click",validar);
		}
	function validar(event){
		event.preventDefault();
		var reg_dni=/^\d{8}[a-zA-Z]$/;
		var paises= new Array("Alemania","Bélgica","Bulgaria","Croacia","Dinamarca","Eslovenia" ,"España","Estonia","Finlandia","Francia","Grecia","Hungría","Irlanda","Italia","Letonia","Lituania","Luxemburgo","Malta" ,"Países Bajos","Polonia" ,"Portugal" ,"Reino Unido" ,"República Checa","Rumanía","Suecia");
		var formulario=document.getElementById("formulario");
		var longitud= formulario.elements.length -1;
		var error = "";
		var dni = formulario.elements[0].value;
		document.getElementById("errordni").textContent = "";
		if(!reg_dni.test(dni)){
			document.getElementById("errordni").textContent = "DNI no valido";

		}
		
		var pais=formulario.elements[1].value;
		var paisCorrecto=paises.indexOf(pais);
		document.getElementById("errorpais").textContent = "";
		if(paisCorrecto<0){
			document.getElementById("errorpais").textContent="Pais no valido o inexistente";
		}
		
		var correo=formulario.elements[2].value;
		var separacion=correo.split("@");
		document.getElementById("erroremail").textContent = "";
		if(separacion[1]=="hotmail.es"||separacion[1]=="yahoo.es"){
			document.getElementById("erroremail").textContent="Email no valido";
		}
		
		
		
	}
		
		
	</script>
</html>